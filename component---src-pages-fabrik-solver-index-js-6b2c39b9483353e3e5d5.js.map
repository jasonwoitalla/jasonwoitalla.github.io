{"version":3,"file":"component---src-pages-fabrik-solver-index-js-6b2c39b9483353e3e5d5.js","mappings":"+LAoBA,EAbe,SAAC,GAA8C,IAA5CA,EAA2C,EAA3CA,KAAMC,EAAqC,EAArCA,YAAsBC,GAAe,EAAxBC,QAAwB,EAAfD,UAC5C,OACE,uBAAKE,UCPoB,yCDQvB,gBAAC,EAAAC,KAAD,CAAMC,GAAIN,EAAMI,UCTF,+BDS4BH,YAAaA,GACpDC,EACD,4BACE,gBAAC,IAAD,CAAiBK,KAAMC,EAAAA,W,mEELjC,EAJgB,WACd,OAAO,uBAAKJ,UCJO,qC,wHCDrB,EAAe,IAA0B,oECAzC,EAAe,IAA0B,iECAzC,EAAe,IAA0B,8DC+LzC,EAnLqB,WACnB,OACE,gBAAC,IAAD,CAAQK,UAAU,gBAAgBC,OAAO,QACvC,sBAAIN,UCVS,sCDUb,iBACA,qBAAGO,MAAO,CAAEC,WAAY,SAAxB,8BACA,oWAOA,gBAAC,IAAD,CAAQZ,KAAK,sDAAb,oBAGA,uBAAKI,UC1BgB,8CD2BnB,gBAAC,IAAD,CAAQJ,KAAK,+EAAb,kBAIF,gBAAC,IAAD,MACA,0CACA,wzBAcA,2BACA,sQAMA,2BACE,yBAAOa,MAAI,EAACC,UAAQ,EAACC,UAAQ,EAACC,OAAK,EAACC,MAAO,KACzC,0BAAQC,IAAKC,EAAeC,KAAK,gBAGrC,uYAQA,2BACE,yBAAOP,MAAI,EAACC,UAAQ,EAACC,UAAQ,EAACC,OAAK,EAACC,MAAO,KACzC,0BAAQC,IAAKG,EAAaD,KAAK,gBAGnC,qBAAGT,MAAO,CAAEC,WAAY,SAAxB,gOAMA,gBAAC,IAAD,MAEA,qDACA,mUAOA,sBAAIR,UCtFQ,qCDuFV,6FACA,oGAGA,+GAIA,wGAIA,2FAEF,2BACE,yBAAOS,MAAI,EAACC,UAAQ,EAACC,UAAQ,EAACC,OAAK,EAACC,MAAO,KACzC,0BAAQC,IAAKI,EAAgBF,KAAK,gBAGtC,8VAOA,gBAAC,IAAD,MAEA,wCACA,mjBAWA,+CACA,yBACE,qBAAGT,MAAO,CAAEC,WAAY,SAAxB,SACA,0BACE,0BACE,gBAAC,EAAAP,KAAD,CAAMC,GAAG,4BAAT,gBADF,mCAIA,0BACE,gBAAC,EAAAD,KAAD,CAAMC,GAAG,4BAAT,WADF,kBAGA,0BACE,gBAAC,EAAAD,KAAD,CAAMC,GAAG,uEAAT,aAEQ,IAHV,8DAMA,0BACE,gBAAC,EAAAD,KAAD,CAAMC,GAAG,qEAAT,WAEQ,IAHV,iDAMA,0BACE,gBAAC,EAAAD,KAAD,CAAMC,GAAG,+EAAT,SAEQ,IAHV,mDAQF,qBAAGK,MAAO,CAAEC,WAAY,SAAxB,aACA,0BACE,0BACE,gBAAC,EAAAP,KAAD,CAAMC,GAAG,kEAAT,iBAIF,0BACE,gBAAC,EAAAD,KAAD,CAAMC,GAAG,+CAAT,0CAMN,6CACA,8DAEE,0BACE,uDACA,sDACA,mDACA,mEACA,wDACA","sources":["webpack://jasonwoitalla/./src/components/button.js","webpack://jasonwoitalla/./src/components/button.module.scss","webpack://jasonwoitalla/./src/components/divider.js","webpack://jasonwoitalla/./src/components/divider.module.scss","webpack://jasonwoitalla/./src/images/fabrik/fabrik_no_constraints.mp4","webpack://jasonwoitalla/./src/images/fabrik/fabrik_constraints.mp4","webpack://jasonwoitalla/./src/images/fabrik/final_animation.mp4","webpack://jasonwoitalla/./src/pages/fabrik-solver/index.js","webpack://jasonwoitalla/./src/pages/fabrik-solver/fabrik-solver.module.scss"],"sourcesContent":["import * as React from \"react\";\nimport { Link } from \"gatsby\";\nimport { faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\n\nimport * as styles from \"./button.module.scss\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst Button = ({ link, buttonstyle, onClick, children }) => {\n  return (\n    <div className={styles.buttonContainer}>\n      <Link to={link} className={styles.button} buttonstyle={buttonstyle}>\n        {children}\n        <span>\n          <FontAwesomeIcon icon={faChevronRight} />\n        </span>\n      </Link>\n    </div>\n  );\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport var button = \"button-module--button--BvGZT\";\nexport var buttonContainer = \"button-module--buttonContainer--Q68-w\";","import * as React from \"react\";\n\nimport * as styles from \"./divider.module.scss\";\n\nconst Divider = () => {\n  return <div className={styles.divider}></div>;\n};\n\nexport default Divider;\n","// extracted by mini-css-extract-plugin\nexport var divider = \"divider-module--divider--fcSlf\";","export default __webpack_public_path__ + \"static/fabrik_no_constraints-6da39cf72e958a4d64cdf5a240db1ea8.mp4\";","export default __webpack_public_path__ + \"static/fabrik_constraints-146064de1a4b27122325192e633137c2.mp4\";","export default __webpack_public_path__ + \"static/final_animation-d50aee94e5fce897671d95c99cb50f36.mp4\";","import * as React from \"react\";\nimport Layout from \"../../components/layout\";\nimport Button from \"../../components/button\";\nimport Divider from \"../../components/divider\";\nimport { Link } from \"gatsby\";\n\nimport * as styles from \"./fabrik-solver.module.scss\";\n\nimport NoConstraints from \"../../images/fabrik/fabrik_no_constraints.mp4\";\nimport Constraints from \"../../images/fabrik/fabrik_constraints.mp4\";\nimport TableAnimation from \"../../images/fabrik/final_animation.mp4\";\n\nconst FabrikSolver = () => {\n  return (\n    <Layout pageTitle=\"FABRIK Solver\" active=\"none\">\n      <h1 className={styles.title}>FABRIK Solver</h1>\n      <p style={{ fontWeight: \"bold\" }}>Written by: Jason Woitalla</p>\n      <p>\n        This is my report of my FABRIK IK solver written in the Godot Engine\n        using GDScript. This simulation uses Godot to help with rendering and\n        has prebuilt classes for geometry. However, the actual logic of the IK\n        solver was written by me. I've listed what Godot classes were used and\n        where I got the logic for the algorithms used.\n      </p>\n      <Button link=\"https://github.com/jasonwoitalla/csci5611-project3\">\n        Github Code Link\n      </Button>\n      <div className={styles.buttonSpacing}>\n        <Button link=\"https://github.com/jasonwoitalla/csci5611-project3/blob/main/ik/IKSolver.gd\">\n          Solver Script\n        </Button>\n      </div>\n      <Divider />\n      <h2>Introduction</h2>\n      <p>\n        This is my inverse kinematics solver for the Godot Game Engine. It uses\n        the FABRIK algorithm to solve for the bone positions. The reason FABRIK\n        was used was to get an easy to program 3d position solver for the bones.\n        The result was a really quick IK solver with minimal code at the start.\n        However, FABRIK had its own challenges that needed to be overcome. For\n        starters because FABRIK uses bone positions instead of angle\n        calculations bone constraints were a major challenge. The other large\n        issue that came from FABRIK was aligning the bone rotations after the\n        positions were set. The reason this was needed is because in Godot,\n        bones are represented with a transformation matrix and there contain\n        rotation data. In order for my IK solver to look good child bones needed\n        to look at their parent.\n      </p>\n      <br />\n      <p>\n        After the initial algorithm was completed and bone alignment completed\n        these are the results I got. Note that the model used was found from a\n        Godot sample project as the rig needed for this work has to be very\n        specific to IK solvers.\n      </p>\n      <div>\n        <video loop controls autoplay muted width={640}>\n          <source src={NoConstraints} type=\"video/mp4\" />\n        </video>\n      </div>\n      <p>\n        In order for the IK solver to look decent, joint constraints are needed.\n        FABRIK does not allow for joint constrains very easily, but it is\n        possible as described in the original paper. Thanks to a Youtube video I\n        was able to find some sample code implementing the constraints and\n        successfully ported the code into Godot. Here is the Robot moving with\n        constraints:\n      </p>\n      <div>\n        <video loop controls autoplay muted width={640}>\n          <source src={Constraints} type=\"video/mp4\" />\n        </video>\n      </div>\n      <p style={{ fontWeight: \"bold\" }}>\n        *Note that the green block here is meant to serve as a visual indicator\n        of the target position. This is supposed to be a waving animation\n        powered by the IK solver and the block would be hidden under normal\n        circumstances.\n      </p>\n      <Divider />\n\n      <h2>Godot Powered Animation</h2>\n      <p>\n        The big use of my IK solver is interacting with the Godot game engine\n        and being used in the animation system. The Godot game engine is able to\n        interpolate keyframes from pretty much any defined property. This was\n        used to create the final animation. Here are the steps and setup of my\n        animation:\n      </p>\n      <ol className={styles.list}>\n        <li>Setup an IK target on the left arm to a green box on the table.</li>\n        <li>\n          Setup an IK target on the right arm to an invisible target in the air.\n        </li>\n        <li>\n          Animate the right target with Godot on the right arm to create a\n          \"waving\" effect.\n        </li>\n        <li>\n          Animate the IK root with Godot to create a \"floating\" effect to the\n          table.\n        </li>\n        <li>Animate the left target with Godot to slide along the table.</li>\n      </ol>\n      <div>\n        <video loop controls autoplay muted width={640}>\n          <source src={TableAnimation} type=\"video/mp4\" />\n        </video>\n      </div>\n      <p>\n        The animation clearly could use some work but a huge chunk of it is\n        animated with inverse kinematics to make the arms look like their\n        moving. More constraints and new constraint types on the right arm could\n        improve the waving animation. Also my end effectors have weird\n        orientation issues that I ran out of time to solve.\n      </p>\n      <Divider />\n\n      <h3>Challenges</h3>\n      <p>\n        I faced a lot of challenges in this project, more than any other while\n        taking CSCI 5611. 3d IK solvers are very hard and I underestimated the\n        amount of work involved. Overall I'm too proud with how the animation\n        turned out and wish I had more time to make it look nicer. That being\n        said after I got the biggest hurdle out of the way, joint constraints it\n        was smooth sailing. Figuring out the math behind 3d joint constraints in\n        FABRIK was very very hard. But reading through the paper and watching a\n        video example of it really helped.\n      </p>\n\n      <h3>Tools / Resources</h3>\n      <p>\n        <p style={{ fontWeight: \"bold\" }}>Tools</p>\n        <ul>\n          <li>\n            <Link to=\"https://godotengine.org/\">Godot Engine</Link> - Game\n            Engine for 3D rendering\n          </li>\n          <li>\n            <Link to=\"https://www.blender.org/\">Blender</Link> - 3d modeling\n          </li>\n          <li>\n            <Link to=\"https://docs.godotengine.org/en/stable/classes/class_transform.html\">\n              Transform\n            </Link>{\" \"}\n            - A Godot class used to represent transformation matrices.\n          </li>\n          <li>\n            <Link to=\"https://docs.godotengine.org/en/stable/classes/class_vector3.html\">\n              Vector3\n            </Link>{\" \"}\n            - A Godot class used to represent 3d vectors.\n          </li>\n          <li>\n            <Link to=\"https://docs.godotengine.org/en/stable/classes/class_basis.html#class-basis\">\n              Basis\n            </Link>{\" \"}\n            - A Godot class used to represent 3d rotations\n          </li>\n        </ul>\n\n        <p style={{ fontWeight: \"bold\" }}>Resources</p>\n        <ul>\n          <li>\n            <Link to=\"http://www.andreasaristidou.com/publications/papers/FABRIK.pdf\">\n              FABRIK Paper\n            </Link>\n          </li>\n          <li>\n            <Link to=\"https://www.youtube.com/watch?v=UNoX65PRehA\">\n              Youtube Video on FABRIK Constraints\n            </Link>\n          </li>\n        </ul>\n      </p>\n      <h3>Grading Summary</h3>\n      <p>\n        Here is a list of attempted parts:\n        <ul>\n          <li>Single-arm IK (20 points)</li>\n          <li>Joint Limits (20 points)</li>\n          <li>Moving IK (10 points)</li>\n          <li>3D Simulation & Rendering (20 points)</li>\n          <li>Skinned Models (10 points)</li>\n          <li>IK + Character Animation (10 points)</li>\n        </ul>\n      </p>\n    </Layout>\n  );\n};\n\nexport default FabrikSolver;\n","// extracted by mini-css-extract-plugin\nexport var buttonSpacing = \"fabrik-solver-module--buttonSpacing--1W1bU\";\nexport var link = \"fabrik-solver-module--link--6-f7q\";\nexport var list = \"fabrik-solver-module--list--oSn1v\";\nexport var mainVideo = \"fabrik-solver-module--mainVideo--3HQMz\";\nexport var title = \"fabrik-solver-module--title--+z6m+\";"],"names":["link","buttonstyle","children","onClick","className","Link","to","icon","faChevronRight","pageTitle","active","style","fontWeight","loop","controls","autoplay","muted","width","src","NoConstraints","type","Constraints","TableAnimation"],"sourceRoot":""}